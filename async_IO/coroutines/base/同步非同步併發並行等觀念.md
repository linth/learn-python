# 同步非同步併發並行等觀念

## 同步 (synchronous) vs. 非同步 (asynchronous)

### 同步 (synchronous)

### 非同步 (asynchronous)

--- 
## concurrency (併發) vs. parallelism (並行)
**「併發」強調的是可以一起「出『發』」，「並行」強調的是可以一起「執『行』」**


### concurrency (併發)
![concurrency](https://i.iter01.com/images/555b5602bd2020da3ae0b94c7e4f5535153c29f46d4bacc1b37bcff556521c81.jpg)
與可以一起出發的併發（concurrent），相對的是不可以一起出發的顺序（sequential）。
    - 順序：上個任務完成後，當前的任務才可以開始執行。
    - 併發：無論上個任務是否完成，當前的任務都可以開始執行。

```
換句話說，任務A、B 照順序執行，A一定會比B先完成，但併發執行則不一定。
```

```
# 顺序: 
(A) -> (B)

# 併發:
可能 (A) 先完成 或 可能 (B) 先完成
```

### parallelism (並行)
![parallelism](https://i.iter01.com/images/72e4a5f045da48b97b4cd7141c130a1070b648a13e87d57cd8a7ec19be94f77a.jpg)
與可以一起執行的並行（parallel），相對的是不可以一起執行的串行（serial）：
    - 串行：有一個任務執行單元，從物理上每個單位時間就只能一個任務、一個任務執行。
    - 並行：有多個任務執行單元，從物理上每個單位時間可以多個任務一起執行。

```
換句話說，任意時間點，串行只會有一個任務在執行，但並行則不一定。
```

```
# 串行:
(A) -> (B)

# 並行:
(A) -> 
(B) -> 
```

### 結論
- 併發、並行不是互斥概念，只是併發著重在任務調度、並行則是著重任務實際執行。
- 可交叉使用，如：並行中也允許併發執行。

單核心:
    - 併發 (不必等上一個任務完成，才開始下個任務)
    - 串行 (只有一個實際執行任務的CPU)

雙核心:
    - 併發、串行 (所有thread都是在同一個核心上執行)
    - 併發、並行 (不同thread在不同核心上執行)

---

## 用例子來說明
```
你吃飯吃一半，電話響了，你吃完飯後才去接電話。

# 不支持併發，也不支持並行
# 任務 A -> 中途有任務B產生 (不理) -> 繼續執行任務A結束 -> 執行任務B結束
```

```
你吃飯吃一半，電話響了，你停下來接電話，講完電話後，繼續吃飯。

# 支持併發
# 任務 A -> 中途有任務B產生 -> 中斷任務A -> 執行任務B結束 -> 繼續執行任務A
```

```
你吃飯吃一半，電話響了，你一邊講電話一邊吃飯。

# 支持並行
# 任務 A -> 中途有任務B產生 -> 繼續執行任務A
#                         -> 繼續執行任務B
```

例子結論
    - **併發** 關鍵是你處理多個任務的能力，但不一定要同時。
    - **並行** 關鍵是你有同時處理多個任務的能力。
    - 所以最關鍵的點就是: 是否同時?

